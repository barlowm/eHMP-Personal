define(["moment","underscore"],function(a,r){"use strict";var t={chartParser:function(r,t){var s,e,i=0,n=0,D=[],u={chartData:[],durationDays:0};if(r)for(var d=0;d<r.length;d++)r[d].stay&&D.push(r[d].stay);for(var f=0;f<D.length;f++)s=a(D[f].arrivalDateTime,"YYYYMMDDHHmmssSSS"),D[f].dischargeDateTime?(e=a(D[f].dischargeDateTime,"YYYYMMDDHHmmssSSS"),i=a.duration(s.diff(e)).asDays()):(e=a(),i=a.duration(s.diff(e)).asDays()),u.chartData.push([s,e]),n+=i;return u.durationDays=n,u}};return t});