define(["app/applets/encounters/parserAdmissionsChart","hbs!app/applets/encounters/templets/gistQViewVisits","hbs!app/applets/encounters/templets/gistQViewProcedures","hbs!app/applets/encounters/templets/gistQViewAdmission","hbs!app/applets/encounters/templets/gistQViewAppointment"],function(e,t,i,r,n){"use strict";var a={debug:!1,eventOrder:{visit:{title:"Visits",order:0,sort_direction:"past"},admission:{title:"Admissions",order:2,sort_direction:"past"},procedure:{title:"Procedures",order:3,sort_direction:"past"},appointment:{title:"Appointments",order:1,sort_direction:"future"}},groupBy:{visit:{grouping:[{title:"Visit type",field:"stopCodeName"}],sort_direction:"past",parser:function(e){e.applet_id="enc_detail_v_a",e.allGroupedEncounters=[];for(var i=0;i<e.recent.length;i++)e.allGroupedEncounters.push({dateTime:e.recent[i].showDate,StopCode:e.recent[i].stopCodeName,Facility:e.recent[i].facilityMoniker,Location:e.recent[i].locationDisplayName,Provider:e.recent[i].encProvider,Status:e.recent[i].appointmentStatus||"Unknown"});e.recent.length>0&&(e.uid=e.recent[0].uid,e.recent_model=e.recent[0],e.tooltip=t(e))}},appointment:{grouping:[{title:"Appointment type",field:"stopCodeName"}],sort_direction:"future",parser:function(e){e.applet_id="enc_detail_v_a",e.allGroupedEncounters=[];for(var t=0;t<e.recent.length;t++)e.allGroupedEncounters.push({dateTime:e.recent[t].showDate,StopCode:e.recent[t].stopCodeName,Facility:e.recent[t].facilityMoniker,Location:e.recent[t].locationDisplayName,Provider:e.recent[t].encProvider,Status:e.recent[t].appointmentStatus||"Unknown"});e.recent.length>0&&(e.uid=e.recent[0].uid,e.recent_model=e.recent[0],e.tooltip=n(e))}},procedure:{grouping:[{title:"Procedure name",field:"procName"}],sort_direction:"past",parser:function(e){e.applet_id="enc_detail_p",e.allGroupedEncounters=[];for(var t=0;t<e.recent.length;t++)e.allGroupedEncounters.push({dateTime:e.recent[t].showDate,Service:e.recent[t].service||"Unknown",Facility:e.recent[t].facilityMoniker,Provider:e.recent[t].encProvider});e.recent.length>0&&(e.uid=e.recent[0].uid,e.recent[0].isCPTdomain?(e.isCPTdomain=!0,e.applet_id="enc_detail_v_a"):e.recent_model=e.recent[0],e.tooltip=i(e))}},admission:{grouping:[{title:"Reason name",field:"reasonName"}],sort_direction:"past",specialChart:!0,parser:function(t){if(t.subKind){t.applet_id="enc_detail_v_a",t.allGroupedEncounters=[];for(var i=0;i<t.recent.length;i++)t.allGroupedEncounters.push({dateTime:t.recent[i].showDate,Location:t.recent[i].locationDisplayName,Facility:t.recent[i].facilityMoniker});t.recent.length>0&&(t.uid=t.recent[0].uid,t.recent_model=t.recent[0],t.tooltip=r(t)),t.graphData.series=e.chartParser(t.allData).chartData,t.graphData.isDuration=!0,delete t.chartData}else t.isDuration=!0,t.chartData=e.chartParser(t.allData).chartData;delete t.allData}}},showBy:{admission_off:{showing:[{title:"Date",field:"showDate"},{title:"Location",field:"locationDisplayName"},{title:"CLN/WARD",field:"facilityName"},{title:"DateTime",field:"dateTime"},{title:"uid",field:"uid"},{title:"Service",field:"service"},{title:"Reason",field:"reasonName"},{title:"Facility",field:"facilityMoniker"}],parser:function(e){e.subKind=e.locationDisplayName+" - "+e.facilityName,e.time=ADK.utils.getTimeSince(e.dateTime).timeSince,e.sort_time=e.dateTime,e.count=1,e.applet_id="enc_detail_v_a",e.allGroupedEncounters=[],e.allGroupedEncounters.push({dateTime:e.showDate,Service:e.service,Facility:e.facilityMoniker,Diagnosis:e.reasonName}),e.tooltip=r(e)}}}};return a});