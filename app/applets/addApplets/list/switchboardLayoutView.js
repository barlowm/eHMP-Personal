define(["underscore","backbone","marionette","hbs!app/applets/addApplets/list/switchboardTemplate"],function(e,t,o,s){var i=t.Marionette.ItemView,n=t.Marionette.ItemView,a=function(){"summary"===$(".selected-view").attr("data-viewtype")?$(".selected-view").addClass("options-box-focus-summary"):"expanded"===$(".selected-view").attr("data-viewtype")?$(".selected-view").addClass("options-box-focus-expanded"):"summary"===$("#view-option").attr("data-viewtype")?$("#view-option").addClass("options-box-focus-summary"):"expanded"===$("#view-option").attr("data-viewtype")?$("#view-option").addClass("options-box-focus-expanded"):$("#view-option").addClass("options-box-focus")},p=t.Marionette.LayoutView.extend({template:s,className:"view-switchboard",regions:{viewOptionsRegion:".options-list",titleRegion:".applet-title-switchboard"},initialize:function(e){this.options=e,e.currentView&&(this.currentView=e.currentView),this.appletTitle=e.appletTitle.toUpperCase()},onBeforeShow:function(){var t=ADK.Messaging.request("switchboard : display",this.options);this.viewOptionsRegion.show(t);var o=this.appletTitle+" - SELECT A VIEW";n=n.extend({template:e.template(o)}),this.titleRegion.show(new n)},onShow:function(){this.$(".options-list ul li:first div:first").focus(),a()},events:{"click .applet-exit-options-button":"closeSwitchboard","mouseover .options-box":"removeFocus","mouseout .options-box":"addFocus"},removeFocus:function(){this.$(".options-box-focus").toggleClass("options-box-focus"),this.$(".options-box-focus-summary").toggleClass("options-box-focus-summary"),this.$(".options-box-focus-expanded").toggleClass("options-box-focus-expanded")},addFocus:function(){a()},closeSwitchboard:function(t){function o(e){return"gist"===e?"trend":e}if(this.currentView){var s='<div class="edit-applet fa fa-cog"></div><br><div class="formatButtonText"><p class="applet-title">'+this.options.appletTitle+"</p>"+o(this.currentView)+"</div>";s+='<span class="gs-resize-handle gs-resize-handle-both"></span>',i=i.extend({template:e.template(s)}),this.$el.closest("li").removeClass("bringToFront"),this.options.region.show(new i)}else console.error("Error: Cannot return to unspecified view")}});return p});