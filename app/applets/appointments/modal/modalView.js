define(["backbone","marionette","underscore","app/applets/appointments/util","hbs!app/applets/appointments/modal/modalTemplate","app/applets/appointments/modal/modalHeaderView"],function(e,t,o,a,i,l){"use strict";var n,d=[],s=e.Marionette.ItemView.extend({template:i,initialize:function(e){this.model=e.model,this.collection=e.collection,n=e.collection,this.getModals()},events:{"click .ccdNext":"getNextModal","click .ccdPrev":"getPrevModal"},getNextModal:function(e){var t=o.indexOf(d,this.model)+1;t>=d.length&&(this.getModals(),t=0);var a=d[t];this.setNextPrevModal(a)},getPrevModal:function(e){var t=o.indexOf(d,this.model)-1;0>t&&(this.getModals(),t=d.length-1);var a=d[t];this.setNextPrevModal(a)},getModals:function(){d=n.models},setNextPrevModal:function(e){this.showNavHeader&&(e.attributes.navHeader=!0);var t=new s({model:e,collection:n}),o={title:a.getModalTitle(e),size:"normal",headerView:l.extend({model:e,theView:t})},i=new ADK.UI.Modal({view:t,options:o});i.show()}});return s});