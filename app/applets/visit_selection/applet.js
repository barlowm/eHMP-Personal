define(["hbs!app/applets/visit_selection/main"],function(e){function t(){n&&n.updateView()}var i=ADK.Messaging.getChannel("visit");i.on("set-visit-success:visit_select",t);var n,s=Backbone.Marionette.ItemView.extend({model:ADK.PatientRecordService.getCurrentPatient(),template:e,initialize:function(){n=this},events:{"click #visitSelectBtn":"selectVisit"},updateView:function(){this.model=ADK.PatientRecordService.getCurrentPatient(),this.render()},selectVisit:function(){i.command("openVisitSelector","visit_select")}}),c={id:"visit_selection",getRootView:function(){return s}};return c});