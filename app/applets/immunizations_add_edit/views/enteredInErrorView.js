define(["hbs!app/applets/immunizations_add_edit/templates/enteredInErrorTemplate","app/applets/immunizations_add_edit/views/modalFooterEieView"],function(e,t){function i(e,t){var i=ADK.PatientRecordService.getCurrentPatient();a=e,o=t,m.on("set-visit-success:immunizations_eie",n),i.get("visit")?(o.set("visit",i.get("visit")),n()):m.command("openVisitSelector","immunizations_eie")}function n(){var e={};e.title=o.get("name"),e.size="small",e.footerView=t.extend({model:o}),s=new r({model:o});var i=new ADK.UI.Modal({view:s,options:e});i.show()}var a,s,o,m=(ADK.Messaging.getChannel("immunization"),ADK.Messaging.getChannel("visit")),r=Backbone.Marionette.ItemView.extend({template:e,model:ADK.PatientRecordService.getCurrentPatient(),events:{}}),d={handleMessage:i};return d});