define(["jquery"],function(e){return{getImmunizationTypePickList:function(e){var a=[];return e.data&&_.each(e.data,function(e){if(e.name&&e.uri){var t={label:e.name.value,value:e.uri.value,isInactive:!_.isUndefined(e.inactive_flag)&&"INACTIVE"===e.inactive_flag.value,selectableForHistoric:_.isUndefined(e.selectable_for_historic)?!1:"true"===e.selectable_for_historic.value,cvxCode:e.cvx_code?e.cvx_code.value:"",fullVaccineName:e.cdc_full_vaccine_name?e.cdc_full_vaccine_name.value:"",shortName:e.short_name?e.short_name.value:"",maxInSeries:e.max__in_series&&"NON-SERIES"!==e.max__in_series.value?e.max__in_series.value:""},n=[];e.cdc_product_name&&_.each(e.cdc_product_name.value,function(e){n.push(e.cdc_product_name.value)}),t.productNames=n;var r=[];e.vaccine_information_statement&&e.vaccine_information_statement.value&&_.each(e.vaccine_information_statement.value,function(e){var a=-1!==e.vaccine_information_statement.label.indexOf("VACCINE INFORMATION STATEMENT/")?e.vaccine_information_statement.label.replace("VACCINE INFORMATION STATEMENT/",""):e.vaccine_information_statement.label;r.push({label:a,value:e.uri.value})}),t.informationStatements=r,a.push(t)}}),_.sortBy(a,"label")},getLotNumberPickList:function(e){var a=[];return e.data&&_.each(e.data,function(e){var t={label:e.lot_number.value,value:e.lot_number.value,manufacturer:-1!==e.manufacturer.label.indexOf("IMM MANUFACTURER/")?e.manufacturer.label.replace("IMM MANUFACTURER/",""):e.manufacturer.label,manufacturerUri:e.manufacturer.value,expirationDate:e.expiration_date?moment.utc(e.expiration_date.value).format("MM/DD/YYYY"):""};a.push(t)}),a},getManufacturerList:function(e){var a=[];return e.data&&_.each(e.data,function(e){var t={label:e.name.value,value:e.uri.value};a.push(t)}),_.sortBy(a,"label")},getInformationSourceList:function(e){var a=[];return e.data&&_.each(e.data,function(e){if("New immunization record"!==e.source.value){var t=e.source.value;-1!==t.indexOf("Historical information -")&&(t=t.replace("Historical information -",""),t=t.charAt(0).toUpperCase()+t.slice(1));var n={label:t,value:e.uri.value};a.push(n)}}),a},getAnatomicLocationList:function(e){var a=[];return e.data&&_.each(e.data,function(e){var t={label:e.site.value,value:e.uri.value};a.push(t)}),a},getEncounterLocationList:function(e){var a=[];return e.data&&e.data.items&&_.each(e.data.items,function(e){var t={label:e.displayName,value:e.uid};a.push(t)}),_.sortBy(a,"label")},getOrderingProviderList:function(e){var a=[];return e.data&&e.data.items&&_.each(e.data.items,function(e){var t={label:e.name,value:e.uid};a.push(t)}),_.sortBy(a,"label")},getAdministeringProviderList:function(e){var a=[];return e.data&&_.each(e.data,function(e){var t={label:e.name,value:e.code};a.push(t)}),_.sortBy(a,"label")},getRouteOfAdministrationList:function(e){var a=[];return e.data&&_.each(e.data,function(e){var t={label:e.route.value,value:e.uri.value};a.push(t)}),a},getSeriesList:function(e){var a=[];if(e)for(var t=Number(e),n=0;t>=n;n++)a.push({label:n.toString(),value:n.toString()});return a.push({label:"Booster",value:"Booster"}),a.push({label:"Complete",value:"Complete"}),a.push({label:"Partially Complete",value:"Partially Complete"}),a},doesItemMatch:function(e,a,t){var n=a.get("isInactive"),r=a.get("selectableForHistoric");if(t&&!n||!t&&!n||!t&&n&&r){if(e.test(a.get("label")))return!0;if(e.test(a.get("cvxCode")))return!0;if(e.test(a.get("shortName")))return!0;if(e.test(a.get("fullVaccineName")))return!0;var i;if(_.each(a.get("productNames"),function(a){e.test(a)&&(i=!0)}),i)return!0}return!1}}});