define([],function(){return{validateModel:function(e){if(e.errorModel.clear(),this.validateEncounterLocation(e,e.get("encounterLocation")),this.validateAdministeringProvider(e,e.get("administeringProvider"),e.get("validProviderSelected"),e.get("immunizationOption")),this.validateVisDateOffered(e,e.get("visDateOffered"),e.get("immunizationOption")),this.validateDose(e,e.get("dose")),!_.isEmpty(e.errorModel.toJSON())){var i="Validation errors. Please fix.";return i}},validateEncounterLocation:function(e,i){i?-1===i.indexOf("urn:va:location")&&e.errorModel.set({encounterLocation:"Please choose a valid location"}):e.errorModel.set({encounterLocation:"This field is required"})},validateAdministeringProvider:function(e,i,t,r){"administered"===r&&(i?t||e.errorModel.set({administeringProvider:"Please choose a valid provider"}):e.errorModel.set({administeringProvider:"This field is required"}))},validateDose:function(e,i){if(i){var t=i.trim(),r=t.slice(-2);"mL"===r||"cc"===r||"fl"===r?t=t.substring(0,t.length-2):"g"===t.slice(-1)&&(t=t.substring(0,t.length-1));var n=Number(t),o=/^-?[0-9]\d*(\.\d+)?$/;(!o.test(n)||isNaN(n)||0>=n)&&e.errorModel.set({dose:"Must be a number greater than 0"})}},validateVisDateOffered:function(e,i,t){if("administered"===t&&!i&&e.get("informationStatement")){var r=e.get("informationStatement"),n=!1;r.length>0&&_.each(r,function(e){e&&(n=!0)}),n&&e.errorModel.set({visDateOffered:"This field is required when a vaccine information statement is selected."})}}}});