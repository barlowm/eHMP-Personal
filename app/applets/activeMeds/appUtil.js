define(["moment","app/applets/activeMeds/appConfig"],function(t,e){"use strict";var a=(e.debug,e.defaultTimeFormat,{getDaysToExpiration:function(t){var e=moment(t,"YYYYMMDDHHmmssSSS"),a=moment(),r=moment.duration(e.diff(a)),n=Math.round(parseFloat(r.asDays()));return n},getCalculatedEffectiveFillsRemaining:function(t,e,a,r){var n=this.getDaysToExpiration(t);if(0>=n||0===a||"EXPIRED"===r.toUpperCase()||"DISCONTINUED"===r.toUpperCase()||"CANCELLED"===r.toUpperCase())return 0;var o=parseFloat(n/e);return o=Math.floor(o),o>a&&(o=a),o}});return a});