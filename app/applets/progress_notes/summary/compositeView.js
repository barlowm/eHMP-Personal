define(["backbone","marionette","underscore","app/applets/progress_notes/summary/itemView","app/applets/progress_notes/details/detailsItemView","hbs!app/applets/progress_notes/summary/table","hbs!app/applets/progress_notes/details/table","app/applets/progress_notes/eventHandlers","app/applets/progress_notes/appletConfig"],function(e,t,o,s,a,n,i,r,l){function p(e){var t,o="#"+e.currentTarget.id;t=$(o).children(".fa").hasClass("fa-chevron-down")?!1:!0,r.sortCollection(this.collection,$(o).attr("col-name"),"alphanumerical",t),$(".fa-chevron-down").removeClass("fa-chevron-down"),$(".fa-chevron-up").removeClass("fa-chevron-up"),t?$(o).children("span").attr("class","fa fa-chevron-down"):$(o).children("span").attr("class","fa fa-chevron-up")}return e.Marionette.CompositeView.extend({initialize:function(){var e={resourceTitle:l.resource,viewModel:l.viewModel};this.collection=ADK.PatientRecordService.fetchCollection(e)},events:{"click tr#progress-notes-summary-header > th":"sortColumn","click button#progress-notes-show-details":"showDetailsModal"},showDetailsModal:function(t){t.preventDefault();var o=this.collection,s=e.Marionette.CompositeView.extend({initialize:function(){this.collection=o},events:{"click tr#progress-notes-details-header > th":"sortColumn"},sortColumn:p,childView:a,childViewContainer:"tbody",template:i,className:"panel panel-info"}),n={title:"Progress Notes/Details",size:"large"},r=new ADK.UI.Modal({view:new s,options:n});r.show()},sortColumn:p,childView:s,childViewContainer:"tbody",template:n,className:"panel panel-info"})});