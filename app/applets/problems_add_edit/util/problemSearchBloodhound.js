define(["typeahead"],function(e){var o=ADK.UserService.getUserSession().get("site"),r=ADK.ResourceService.buildUrl("problems-getProblems",{"site.code":o,limit:10});return new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:r,replace:function(e,o){return $("#uncodedNew").prop("checked")&&(e+="&uncoded=1"),e+="&query="+o},filter:function(e){return e&&"No data"!==e.data.items?$.map(e.data.items,function(e){return{value:e.problem,problemNumber:e.problemNumber,icd:e.icd,lexiconCode:e.lexiconCode,snomed:e.snomed,problemText:e.problemText}}):{}},ajax:{beforeSend:function(){$("#problemSearchSpinner").show()},complete:function(){$("#problemSearchSpinner").hide()}}}})});