define(["backbone","marionette","underscore","app/applets/vista_health_summaries/appletHelpers","hbs!app/applets/vista_health_summaries/modal/modalTemplate"],function(e,t,i,o,s){"use strict";var r,a=e.Marionette.LayoutView.extend({template:s,fetchOptions:{},initialize:function(e){var t=this;if(this.reportDetailLoadingView=ADK.Views.Loading.create(),r=e.gridCollection,this.showNavHeader&&(this.model.attributes.navHeader=!0),this.target=e.target,this.model.get("detail"))setTimeout(function(){t.render()},500);else{this.fetchOptions.resourceTitle="healthsummaries-getReportContentByReportID",this.fetchOptions.viewModel={parse:o.parseReportDetailResponse},this.fetchOptions.pageable=!0,this.fetchOptions.cache=!0,this.fetchOptions.criteria={"site.code":this.model.get("siteKey"),id:this.model.get("reportID")+";"+this.model.get("hsReport")},this.fetchOptions.onError=function(e,i){t.model.set("detail","Error : unable to run report"),t.render()},this.fetchOptions.onSuccess=function(e,i){var o=e.first().get("detail");t.model.set("detail",o),t.render()};ADK.PatientRecordService.fetchCollection(this.fetchOptions)}},regions:{reportDetail:"#vhs-report-detail"},onRender:function(){},onShow:function(){this.reportDetail.show(this.reportDetailLoadingView)}});return a});