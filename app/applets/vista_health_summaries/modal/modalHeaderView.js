define(["backbone","marionette","underscore","hbs!app/applets/vista_health_summaries/modal/headerTemplate","app/applets/vista_health_summaries/modal/modalView","app/applets/vista_health_summaries/appletUiHelpers"],function(e,t,a,s,i,l){"use strict";var o,r=[],n=e.Marionette.ItemView.extend({events:{"click #vhs-previous, #vhs-next":"navigateModal"},initialize:function(){o=this.dataCollection;var e=ADK.PatientRecordService.getCurrentPatient();this.model.set("fullName",e.get("fullName")),this.model.set("birthDate",e.get("birthDate")),this.model.set("genderName",e.get("genderName")),this.model.set("ssn",e.get("ssn")),this.nextButtonDisable?this.model.attributes.nextButtonDisable="disabled":this.model.attributes.nextButtonDisable="",this.prevButtonDisable?this.model.attributes.prevButtonDisable="disabled":this.model.attributes.prevButtonDisable="",this.getModals()},navigateModal:function(e){var t=$(e.currentTarget),a=t.attr("id");"vhs-previous"===a?this.getPrevModal():this.getNextModal()},template:s,getNextModal:function(e){var t=a.indexOf(r,this.model)+1;t>=r.length&&(this.getModals(),t=0);var s=r[t];this.setNextPrevModal(s)},getPrevModal:function(e){var t=a.indexOf(r,this.model)-1;0>t&&(this.getModals(),t=r.length-1);var s=r[t];this.setNextPrevModal(s)},getModals:function(){r=[],a.each(o.models,function(e,t){r.push(e)})},setNextPrevModal:function(e){this.showNavHeader&&(e.attributes.navHeader=!0);var t=require("app/applets/vista_health_summaries/appletUiHelpers");t.getDetailView(e,null,o,!0,t.showModal,t.showErrorModal)}});return n});