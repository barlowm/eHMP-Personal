define(["require","backbone","underscore","app/applets/lab_results_grid/modal/modalView","app/applets/lab_results_grid/modal/errorView","app/applets/lab_results_grid/modal/modalHeaderView","app/applets/lab_results_grid/modal/modalFooterView"],function(e,t,a,r,i,l,o){"use strict";var s={getDetailView:function(e,t,a,i,l,o){if(e.get("pathology")){var s=e.get("results");if(s&&s.length>0&&s[0].resultUid){var n=s[0].resultUid;console.log(n);var d=ADK.PatientRecordService.getCurrentPatient(),p=ADK.Messaging.getChannel("lab_results_grid").request("extDetailView",{uid:n,patient:{icn:d.attributes.icn,pid:d.attributes.pid},suppressModal:!0});p.done(function(t){l(t,e,a,i)}),p.fail(function(t){o(t,e,a)})}else o("Lab has no link to a result document",e,a)}else{var u=e.get("isFullscreen");e.set("isNotAPanel",!0);var w=new r.ModalView({model:e,target:t,gridCollection:a,isFromNonPanel:!0,fullScreen:u}),g={view:w,title:e.get("typeName")+" - "+e.get("specimen")};l(g,e,a,i)}},showModal:function(t,a,r,i){var l={title:t.title,size:"large",footerView:o.extend()};if(a.set("lab_detail_title",t.title),i){var s=e("app/applets/lab_results_grid/modal/modalHeaderView");l.headerView=s.extend({model:a,theView:t.view,dataCollection:r,navHeader:i})}var n=new ADK.UI.Modal({view:t.view,options:l});n.show()},showErrorModal:function(r,l,s){var n={title:"An Error Occurred",size:"large",footerView:o.extend()},d=a.isString(r)?r:r&&a.isString(r.statusText)?r.statusText:"An error occurred",p=new i({model:new t.Model({error:d})}),u=e("app/applets/lab_results_grid/modal/modalHeaderView");n.headerView=u.extend({model:l,theView:p,dataCollection:s,navHeader:!0});var w=new ADK.UI.Modal({view:p,options:n});w.show()}};return s});