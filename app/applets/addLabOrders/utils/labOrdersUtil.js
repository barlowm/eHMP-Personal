define(["backbone","marionette","underscore","moment"],function(e,t,n,i){var o={error:function(e,t){console.log("error"),console.log(t)},success:function(e,t){console.log("success"),console.log(t)}},l=function(t){var n="",i=ADK.PatientRecordService.getCurrentPatient();n=i.get("icn")?i.get("icn"):i.get("pid")?i.get("pid"):i.get("id");var o=ADK.ResourceService.buildUrl("orders-create",{pid:n}),l=ADK.PatientRecordService.getCurrentPatient().get("localId"),a=[{inputKey:"4",inputValue:$("#lab-test-form-itemid").val()},{inputKey:"126",inputValue:$("#collection-sample-select").val()},{inputKey:"127",inputValue:$("#specimen-select").val()},{inputKey:"180",inputValue:$("#urgency-select").val()},{inputKey:"28",inputValue:'"'+$("#collection-type-select").val()+'"'},{inputKey:"6",inputValue:"TODAY"},{inputKey:"29",inputValue:$("#frequency-select").val()}],u={dfn:l,provider:"10000000231",location:"285",orderDialog:"LR OTHER LAB TESTS",displayGroup:"6",quickOrderDialog:"2",inputList:a,localId:"12519",uid:"urn:va:order:9E7A:100615:12519",kind:"Laboratory"},r=new e.Model(u);return r.urlRoot=o,console.log(JSON.stringify(r)),r},a=function(e){var t=l(e);t.save(null,o),ADK.UI.Modal.hide()},u={enableLoadingIndicator:function(e){e?$("#labTestsLoadingIndicator").show():($("#labTestsLoadingIndicator").hide(),$("#labTestSearchInput").focus())},performActionWhileTyping:function(e,t,i,o,l){e.type===t&&($(e.target).val().length<=i&&"undefined"!=typeof timeoutHandle?clearTimeout(timeoutHandle):$(e.target).val().length>i&&("undefined"==typeof timeoutHandle?timeoutHandle=n.delay(l,o,e):(clearTimeout(timeoutHandle),timeoutHandle=n.delay(l,o,e))))},save:function(e){a(e)}};return u});