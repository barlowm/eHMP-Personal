define(["backbone","marionette","hbs!app/applets/orders/toolBar/ordersFilterTemplate"],function(e,t,i){"use strict";var s=e.Marionette.ItemView.extend({initialize:function(e){this.instanceId=e.instanceId,this.collection=e.collection,this.menuItems=e.menuItems,this.sharedModel=e.sharedModel,this.expandedAppletId=e.expandedAppletId,this.parentWorkspace=e.parentWorkspace,this.service=ADK.SessionStorage.getAppletStorageModel(this.expandedAppletId,"activeMenuItem",!0,this.parentWorkspace)||"ALL"},template:i,className:"list-group-item row-layout",events:{"change #order-type-options":"filterChange"},clearSearchText:function(){$("#grid-filter-"+this.instanceId).find(".clear").click(),ADK.SessionStorage.setAppletStorageModel(this.expandedAppletId,"filterText","",!0,this.parentWorkspace)},setActiveType:function(e,t,i){ADK.SessionStorage.setAppletStorageModel(i,"activeMenuItem",t,!0,this.parentWorkspace)},filterChange:function(){this.clearSearchText(),this.service=this.$("#order-type-options").val(),this.setActiveType(this.menuItems,this.service,this.expandedAppletId),this.sharedModel.set("service",this.service)},onRender:function(){this.$el.html(this.template({item:this.menuItems.toJSON()})),this.$("#order-type-options").val(ADK.SessionStorage.getAppletStorageModel(this.expandedAppletId,"activeMenuItem",!0,this.parentWorkspace)||"ALL")}});return s});