define(["app/screens/AllergyGridFull","app/screens/VitalsFull","app/screens/ImmunizationsFull","app/screens/OrdersFull","main/ADK"],function(e,a,i,t,d){"use strict";var n={med:"medication_review_v2",document:"documents"},l={id:"cover-sheet",contentRegionLayout:"gridster",appletHeader:"navigation",appLeft:"patientInfo",predefined:!0,freezeApplets:!0,applets:[{id:"problems",title:"Conditions",maximizeScreen:"problems-full",region:"bc2652653929",dataRow:"1",dataCol:"1",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"},{id:"vitals",title:"Vitals",maximizeScreen:"vitals-full",region:"dc49ad17e67c",dataRow:"1",dataCol:"5",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"},{id:"allergy_grid",title:"Allergies",maximizeScreen:"allergy-grid-full",region:"e543e81ca31a",dataRow:"1",dataCol:"9",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"2",dataMinSizeY:"1",dataMaxSizeX:"4",dataMaxSizeY:"4",viewType:"gist"},{id:"appointments",title:"Appointments & Visits",maximizeScreen:"appointments-full",region:"c7c6294343c0",dataRow:"5",dataCol:"1",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"},{id:"immunizations",title:"Immunizations",maximizeScreen:"immunizations-full",region:"a7dace4f6e1f",dataRow:"9",dataCol:"1",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"},{id:"activeMeds",title:"Active Medications",region:"041456e4af17",dataRow:"9",dataCol:"5",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary",maximizeScreen:"medication-review"},{id:"lab_results_grid",title:"Numeric Lab Results",maximizeScreen:"lab-results-grid-full",region:"9dc9f289d846",dataRow:"5",dataCol:"5",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"},{id:"orders",title:"Orders",maximizeScreen:"orders-full",region:"54cdb996d9c8",dataRow:"9",dataCol:"9",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"},{id:"ccd_grid",title:"Community Health Summaries",maximizeScreen:"ccd-list-full",region:"76fed10ec8c0",dataRow:"5",dataCol:"9",dataSizeX:"4",dataSizeY:"4",dataMinSizeX:"4",dataMinSizeY:"2",dataMaxSizeX:"6",dataMaxSizeY:"12",viewType:"summary"}],onResultClicked:function(e){var a=e.uid.split(":")[2],i=n[a],t=$.Deferred();if(i){if(!e.suppressModal){var l=new d.UI.Modal({view:d.Views.Loading.create(),options:{size:"large",title:"Loading..."}});l.show()}var s=d.Messaging.getChannel(i),r=s.request("detailView",e);r.done(function(a){if(e.suppressModal)t.resolve(a);else{var i=new d.UI.Modal({view:a.view,options:{size:"large",title:a.title}});i.show(),t.resolve()}}),r.fail(function(e){t.reject(e)})}else{var o=new DefaultDetailView;if(e.suppressModal)t.resolve({view:o});else{var z=new d.UI.Modal({view:o,options:{size:"large",title:"Detail - Placeholder"}});z.show(),t.resolve()}}return t.promise()},onStart:function(){e.setUpEvents(),a.setUpEvents(),i.setUpEvents(),t.setUpEvents();var n=d.Messaging.getChannel("activeMeds");n.on("detailView",this.onResultClicked)},onStop:function(){var e=d.Messaging.getChannel("activeMeds");e.off("getDetailView",this.onResultClicked),t.turnOffEvents()},patientRequired:!0};return d.Messaging.getChannel("lab_results_grid").reply("extDetailView",l.onResultClicked),d.Messaging.getChannel("narrative_lab_results_grid").reply("extDetailView",l.onResultClicked),l});